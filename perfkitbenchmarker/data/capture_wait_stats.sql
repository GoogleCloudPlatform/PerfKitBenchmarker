SELECT
  wait_type AS WaitType,
  waiting_tasks_count AS WaitCount,
  wait_time_ms AS WaitTimeMS
FROM sys.dm_os_wait_stats
WHERE
  wait_time_ms > 0
  AND wait_type NOT IN (
    -- The following wait types are benign and can be ignored.
    -- https://www.sqlskills.com/blogs/paul/wait-statistics-or-please-tell-me-where-it-hurts/
    N'BROKER_EVENTHANDLER',
    N'BROKER_RECEIVE_WAITFOR',
    N'BROKER_TASK_STOP',
    N'BROKER_TO_FLUSH',
    N'BROKER_TRANSMITTER',
    N'CHECKPOINT_QUEUE',
    N'CHKPT',
    N'DIRTY_PAGE_POLL',
    N'DISPATCHER_QUEUE_SEMAPHORE',
    N'EXECSYNC',
    N'FSAGENT',
    N'FT_IFTS_SCHEDULER_IDLE_WAIT',
    N'FT_IFTSHC_MUTEX',
    N'KSOURCE_WAKEUP',
    N'LAZYWRITER_SLEEP',
    N'LOGMGR_QUEUE',
    N'MEMORY_ALLOCATION_EXT',
    N'ONDEMAND_TASK_QUEUE',
    N'PARALLEL_REDO_DRAIN_WORKER',
    N'PARALLEL_REDO_LOG_CACHE',
    N'PARALLEL_REDO_TRAN_LIST',
    N'PARALLEL_REDO_WORKER_SYNC',
    N'PARALLEL_REDO_WORKER_WAIT_WORK',
    N'PREEMPTIVE_OS_FLUSHFILEBUFFERS',
    N'PREEMPTIVE_XE_GETTARGETSTATE',
    N'PVS_PREALLOCATE',
    N'PWAIT_ALL_COMPONENTS_INITIALIZED',
    N'PWAIT_DIRECTLOGCONSUMER_GETNEXT',
    N'PWAIT_EXTENSIBILITY_CLEANUP_TASK',
    N'QDS_PERSIST_TASK_MAIN_LOOP_SLEEP',
    N'QDS_ASYNC_QUEUE',
    N'QDS_CLEANUP_STALE_QUERIES_TASK_MAIN_LOOP_SLEEP',
    N'QDS_SHUTDOWN_QUEUE',
    N'REDO_THREAD_PENDING_WORK',
    N'REQUEST_FOR_DEADLOCK_SEARCH',
    N'RESOURCE_QUEUE',
    N'SERVER_IDLE_CHECK',
    N'SLEEP_BPOOL_FLUSH',
    N'SLEEP_DBSTARTUP',
    N'SLEEP_DCOMSTARTUP',
    N'SLEEP_MASTERDBREADY',
    N'SLEEP_MASTERMDREADY',
    N'SLEEP_MASTERUPGRADED',
    N'SLEEP_MSDBSTARTUP',
    N'SLEEP_SYSTEMTASK',
    N'SLEEP_TASK',
    N'SLEEP_TEMPDBSTARTUP',
    N'SNI_HTTP_ACCEPT',
    N'SOS_WORK_DISPATCHER',
    N'SP_SERVER_DIAGNOSTICS_SLEEP',
    N'SQLTRACE_BUFFER_FLUSH',
    N'SQLTRACE_WAIT_ENTRIES',
    N'VDI_CLIENT_OTHER',
    N'WAIT_XTP_RECOVERY',
    N'WAIT_XTP_HOST_WAIT',
    N'WAIT_XTP_OFFLINE_CKPT_NEW_LOG',
    N'WAIT_XTP_CKPT_CLOSE',
    N'XE_DISPATCHER_JOIN',
    N'XE_DISPATCHER_WAIT',
    N'XE_TIMER_EVENT')
